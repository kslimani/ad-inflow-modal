!function(A,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AdInflowModal=e():A.AdInflowModal=e()}(window,function(){return o={},i.m=t=[function(A,e,t){"use strict";function i(A){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}function o(A){return A+""}function a(A,e){return A.classList?A.classList.add(e):-1==A.className.split(" ").indexOf(e)&&(A.className+=" "+e),A}function n(e,A){return o(A).split(" ").forEach(function(A){e=a(e,A)}),e}function s(A,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;return void 0===t?A.getAttribute(e):(null===t?A.setAttributeNode(document.createAttribute(e)):A.setAttribute(e,t),A)}Object.defineProperty(e,"__esModule",{value:!0}),e.str=o,e.el=function(A){return document.querySelector(A)},e.addOneClass=a,e.addClass=n,e.removeClass=function(A,e){A.classList?A.classList.remove(e):A.className=A.className.replace(new RegExp("\\b"+e+"\\b","g"),"");return A},e.toggleClass=function(A,e){if(A.classList)A.classList.toggle(e);else{var t=A.className.split(" "),o=t.indexOf(e);0<=o?t.splice(o,1):t.push(e),A.className=t.join(" ")}return A},e.attr=s,e.make=function(A){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=document.createElement(A);e.class&&(t=n(t,e.class));e.text&&(t.innerText=e.text);if(e.attr&&"object"===i(e.attr))for(var o in e.attr)s(t,o,e.attr[o]);e.html&&(t.innerHTML=e.html);return t}},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.svg=e.video=void 0;function o(A){for(var e=A.match(/^data:([^;]+);base64,(.+)$/i),t=e[1],o=e[2],i=atob(o),a=i.length,n=Math.ceil(a/1024),s=new Array(n),r=0;r<n;++r){for(var d=1024*r,l=Math.min(1024+d,a),u=new Array(l-d),c=d,_=0;c<l;++_,++c)u[_]=i[c].charCodeAt(0);s[r]=new Uint8Array(u)}return new Blob(s,{type:t})}function i(A){return{source:URL.createObjectURL(A),mimeType:A.type}}var a=i(o("data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=")),n=i(o("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxIDEiPjxwYXRoIGQ9Im0wLDB2MWgxVjAiPjwvcGF0aD48L3N2Zz4=")),s=a;e.video=s;var r=n;e.svg=r},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(0),i=t(1),a=u(t(3)),n=u(t(4)),s=u(t(5)),r=u(t(6));t(7);var d=u(t(8)),l=u(t(9));function u(A){return A&&A.__esModule?A:{default:A}}function c(A,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(A,o.key,o)}}var _=(0,n.default)(),h=function(){function t(A){var e=this;!function(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._e={},this._t={},this._body=new a.default,this._configure(A),this._onClose=function(){e.close()},this._onPlayIntent=function(A){e._hidePlayOverlay(),e._adPlayer.play()}}return function(A,e,t){e&&c(A.prototype,e),t&&c(A,t)}(t,[{key:"_configure",value:function(A){if(A.closeButtonDelay||(A.closeButtonDelay=5e3),A.skipAdIfNoAutoplay||(A.skipAdIfNoAutoplay=!1),A.canAutoplayTimeout||(A.canAutoplayTimeout=1e3),A.logAdPlayerErrors||(A.logAdPlayerErrors=!0),A.destroyTimeout||(A.destroyTimeout=1e4),A.openOnInteractionIfNoAutoplay||(A.openOnInteractionIfNoAutoplay=!1),!A.imaAdPlayer)throw new Error("AdInflowModal error: ima ad player configuration is missing");this._o=A}},{key:"open",value:function(){this._makeModal(),this._appendModal(),this._makeAdPlayer()}},{key:"close",value:function(){this._adPlayer?this._adPlayer.stop():this._close()}},{key:"resize",value:function(A,e){this._e.content&&(this._e.content.setAttribute("style","width:"+A+"px;height:"+e+"px;"),this._adPlayer&&this._adPlayer.resize(A,e))}},{key:"_makeModal",value:function(){var A=this;this._e.modal&&this._clearAllTimeout(function(){A._removeModal(),A._destroyAdPlayer()}),this._e.modal=(0,o.make)("div",{class:"ad-inflow-modal"}),this._e.content=(0,o.make)("div",{class:"ad-inflow-modal-content"}),this._e.close=(0,o.make)("span",{class:"ad-inflow-modal-close",html:d.default}),this._e.modal.appendChild(this._e.content),this._e.ad=(0,o.make)("div",{class:"ad-inflow"}),this._e.adContainerVideo=(0,o.make)("div",{class:"ad-inflow-container-video"}),this._e.adVideo=(0,o.make)("video",{class:"ad-inflow-video",attr:{playsinline:null,src:i.video.source,poster:i.svg.source}}),this._e.adContainer=(0,o.make)("div",{class:"ad-inflow-container"}),this._e.adOverlay=(0,o.make)("div",{class:"ad-inflow-overlay"}),this._e.adOverlayIcon=(0,o.make)("div",{class:"ad-inflow-overlay-icon",html:l.default}),this._e.adOverlay.appendChild(this._e.adOverlayIcon),this._e.adContainerVideo.appendChild(this._e.adVideo),this._e.ad.appendChild(this._e.adContainerVideo),this._e.ad.appendChild(this._e.adContainer),this._e.ad.appendChild(this._e.adOverlay),this._e.content.appendChild(this._e.ad),this._e.content.appendChild(this._e.close)}},{key:"_appendModal",value:function(){document.body&&this._e.modal&&(document.body.appendChild(this._e.modal),this._e.close.addEventListener("click",this._onClose))}},{key:"_removeModal",value:function(){document.body&&this._e.modal&&(this._e.close.removeEventListener("click",this._onClose),this._e.modal=document.body.removeChild(this._e.modal)),this._e={}}},{key:"_handlePlayerError",value:function(A){var e=A;e.data&&(e=e.data),e.getError&&(e=e.getError()),e.toString&&(e=e.toString());try{console.log("ad-inflow-modal:",e)}catch(A){}}},{key:"_makeAdPlayer",value:function(){var t=this;this._o.imaAdPlayer.video=this._e.adVideo,this._o.imaAdPlayer.displayContainer=this._e.adContainer,(0,r.default)(this._o.imaAdPlayer,function(A,e){if(e)return t._o.logAdPlayerErrors&&t._handlePlayerError(e),t._destroy();t._adPlayer=A,t._handleAutoplay(t._o.canAutoplayTimeout)})}},{key:"_destroyAdPlayer",value:function(){this._adPlayer&&delete this._adPlayer}},{key:"_handleAutoplay",value:function(A){var t=this;_?this._open(!1):(0,s.default)(function(A,e){t._open(A)},A)}},{key:"_show",value:function(){this._e.modal&&(0,o.addOneClass)(this._e.modal,"ad-inflow-modal-show")}},{key:"_hide",value:function(){this._e.modal&&(0,o.removeClass)(this._e.modal,"ad-inflow-modal-show")}},{key:"_open",value:function(A){var e=this;if(!A&&this._o.skipAdIfNoAutoplay)return this._destroy();!A&&this._o.requestAdIfNoAutoplay&&this._adPlayer.request(),this._o.logAdPlayerErrors&&(this._adPlayer.on("error",function(A){e._handlePlayerError(A)}),this._adPlayer.on("ad_error",function(A){e._handlePlayerError(A)})),this._adPlayer.on("started",function(A){e._showCloseButton(e._o.closeButtonDelay)}),this._adPlayer.on("ad_end",function(A){e._close()}),(A||this._o.openOnInteractionIfNoAutoplay)&&this._adPlayer.on("ad_begin",function(A){e._show(),e._body.lock()}),A?this._adPlayer.play():this._o.openOnInteractionIfNoAutoplay?this._body.prevent(function(){e._adPlayer.play()}):(this._show(),this._body.lock(),this._showPlayOverlay())}},{key:"_showCloseButton",value:function(A){var e=this;this._t.close=setTimeout(function(){e._e.close&&(0,o.addOneClass)(e._e.close,"ad-inflow-modal-close-show")},A)}},{key:"_hideCloseButton",value:function(){this._e.close&&(0,o.removeClass)(this._e.close,"ad-inflow-modal-close-show")}},{key:"_showPlayOverlay",value:function(){this._e.adOverlay&&(this._e.adOverlay.addEventListener("click",this._onPlayIntent),(0,o.addOneClass)(this._e.adOverlay,"ad-inflow-overlay-show"))}},{key:"_hidePlayOverlay",value:function(){this._e.adOverlay&&(this._e.adOverlay.removeEventListener("click",this._onPlayIntent),(0,o.removeClass)(this._e.adOverlay,"ad-inflow-overlay-show"))}},{key:"_close",value:function(){this._hideCloseButton(),this._hide(),this._body.unlock(),this._destroy(this._o.destroyTimeout)}},{key:"_clearAllTimeout",value:function(A){for(var e in this._t)"number"==typeof this._t[e]&&clearTimeout(this._t[e]);this._t={},A()}},{key:"_destroy",value:function(A){var e=this,t=0<arguments.length&&void 0!==A?A:0;this._clearAllTimeout(function(){-1<t&&(e._t.destroy=setTimeout(function(){e._removeModal(),e._destroyAdPlayer()},t))})}}]),t}();e.default=h,A.exports=e.default},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(0);function i(A,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(A,o.key,o)}}var a=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,n=function(){function A(){var e=this;!function(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}(this,A),this._class="ad-inflow-body",this._lockEvents="touchmove",this._preventEvents=["touch","touchstart","touchmove","touchcancel"],this._preventedEvents=["touchend","mousedown"],a&&this._preventedEvents.unshift("touchstart"),this._lock=function(A){A.preventDefault()},this._prevent=function(A){A.preventDefault()},this._prevented=function(A){A.preventDefault(),e._isPrevented||(e._isPrevented=!0,e._next(),e._preventedEvents.forEach(function(A){document.body.removeEventListener(A,e._prevented,{capture:!0,passive:!1,once:!0})}),e._preventEvents.forEach(function(A){document.body.removeEventListener(A,e._prevent,{capture:!0,passive:!1,once:!0})}))}}return function(A,e,t){e&&i(A.prototype,e),t&&i(A,t)}(A,[{key:"lock",value:function(){(0,o.addOneClass)(document.body,this._class),document.body.addEventListener(this._lockEvents,this._lock,{passive:!1})}},{key:"unlock",value:function(){(0,o.removeClass)(document.body,this._class),document.body.removeEventListener(this._lockEvents,this._lock,{passive:!1})}},{key:"prevent",value:function(A){var e=this;this._isPrevented=!1,this._next=A,this._preventedEvents.forEach(function(A){document.body.addEventListener(A,e._prevented,{capture:!0,passive:!1,once:!0})}),this._preventEvents.forEach(function(A){document.body.addEventListener(A,e._prevent,{capture:!0,passive:!1,once:!0})})}}]),A}();e.default=n,A.exports=e.default},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var A=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(A)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(A.substr(0,4)))},A.exports=e.default},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o){function e(A,e){var t=1<arguments.length&&void 0!==e?e:null;clearTimeout(i),o(A,t)}var A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500,i=setTimeout(function(){e(!1,new Error("Timeout "+A+" ms has been reached"))},A),t=a.play();void 0!==t?t.then(function(){return e(!0)}).catch(function(A){return e(!1,A)}):e(!0)};var o=t(0),i=t(1),a=(0,o.make)("video",{attr:{playsinline:null,src:i.video.source}});A.exports=e.default},function(A,e,t){var o;window,o=function(){return o={},i.m=t=[function(A,e,t){"use strict";function o(A){return!isNaN(parseFloat(A))&&isFinite(A)}Object.defineProperty(e,"__esModule",{value:!0}),e.isNumeric=o,e.makeNum=function(A,e){return o(A)?A+0:e},e.makeDefault=function(A,e){return void 0===A?e:A}},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){(0,o.default)(function(A){if(!A)return t(null,new Error("Failed to load IMA SDK"));t(new i.default(e),null)},(0,a.makeNum)(e.timemout,6e3),!!e.debug)};var o=n(t(2)),i=n(t(3)),a=t(0);function n(A){return A&&A.__esModule?A:{default:A}}A.exports=e.default},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){function A(A){i.clearTimeout(n),"function"==typeof e&&e(A)}var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6e3,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=window,a=document,n=null;if(i.google&&i.google.ima)return A(!0);var s=a.getElementsByTagName("script")[0],r=a.createElement("script");r.src="https://imasdk.googleapis.com/js/sdkloader/ima3"+(o?"_debug":"")+".js",r.async=!0,"function"==typeof e&&(r.onload=function(){A(!0)});s.parentNode.insertBefore(r,s),t&&(n=i.setTimeout(function(){A(!1)},t))},A.exports=e.default},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,i=t(0),a=(o=t(4))&&o.__esModule?o:{default:o};function n(A,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(A,o.key,o)}}var s=function(){function e(A){!function(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._configure(A),this._evt=new a.default,this._adRequesting=!1,this._adRequested=!1,google.ima.settings.setVpaidMode(this._vpaidMode),this._o.locale&&google.ima.settings.setLocale(this._o.locale),this._adDisplayContainer=new google.ima.AdDisplayContainer(this._o.displayContainer,this._o.video),this._adDisplayContainerInit=!1}return function(A,e,t){e&&n(A.prototype,e),t&&n(A,t)}(e,[{key:"_configure",value:function(A){this._o={displayContainer:A.displayContainer,video:A.video,tag:A.tag},this._o.vpaidMode=(0,i.makeNum)(A.vpaidMode,0),A.maxDuration&&(this._o.maxDuration=(0,i.makeNum)(A.maxDuration,void 0)),this._o.adsRequestOptions=A.adsRequestOptions,this._o.adsRenderingOptions=A.adsRenderingOptions,this._o.nonLinearMaxDuration=(0,i.makeNum)(A.nonLinearMaxDuration,-1),this._o.adWillAutoPlay=!!(0,i.makeDefault)(A.adWillAutoPlay,!0),this._o.adWillPlayMuted=!!(0,i.makeDefault)(A.adWillPlayMuted,!1),this._o.restoreVideo=!!(0,i.makeDefault)(A.restoreVideo,!1)}},{key:"_setProperties",value:function(A,e){for(var t in e)A[t]&&(A[t]=e[t])}},{key:"on",value:function(A,e){this._evt.subscribe(A,e)}},{key:"off",value:function(A,e){var t=1<arguments.length&&void 0!==e?e:null;null===t?this._evt.unsubscribeAll(A):this._evt.unsubscribe(A,t)}},{key:"play",value:function(){this._dispatch("ad_play_intent"),this._adPlayIntent=!0,this.initAdDisplayContainer(),this._requestAd()}},{key:"request",value:function(A){this._dispatch("ad_request_intent",A),this._requestAd(A)}},{key:"resize",value:function(A,e){this._adsManager&&this._adsManager.resize(A,e,google.ima.ViewMode.NORMAL)}},{key:"setVolume",value:function(A){this._adsManager&&this._adsManager.setVolume(A)}},{key:"setAdWillAutoPlay",value:function(A){this._o.adWillAutoPlay=A}},{key:"setAdWillPlayMuted",value:function(A){this._o.adWillPlayMuted=A}},{key:"stop",value:function(){this._dispatch("ad_stop_intent"),this._stop()}},{key:"ended",value:function(){this._adsLoader&&this._adsLoader.contentComplete()}},{key:"initAdDisplayContainer",value:function(){this._adDisplayContainerInit||(this._adDisplayContainer.initialize(),this._adDisplayContainerInit=!0)}},{key:"destroy",value:function(A){var e=!(0<arguments.length&&void 0!==A)||A;this._end||(this._resetMaxDurationTimer(),e&&this._evt.unsubscribeAll(),this._adsManager&&this._adsManager.stop()),this._destroyAdsManager(),this._adsLoader&&this._adsLoader.destroy(),this._adDisplayContainer&&this._adDisplayContainer.destroy()}},{key:"_stop",value:function(){this._dispatch("ad_stop"),this._adsManager?this._adsManager.stop():this._endAd()}},{key:"_makeAdsLoader",value:function(){var e=this;this._adsLoader=new google.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(A){e._onAdsManagerLoaded(A)}),this._adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(A){e._onAdError(A)})}},{key:"_requestAd",value:function(A){if(this._end=!1,!this._adRequesting)if(this._adRequested)this._adPlayIntent&&this._playAd();else{this._adRequesting=!0,this._adsLoader||this._makeAdsLoader();var e=new google.ima.AdsRequest;e.adTagUrl=this._o.tag,e.linearAdSlotWidth=this._o.video.offsetWidth,e.linearAdSlotHeight=this._o.video.offsetHeight,e.nonLinearAdSlotWidth=this._o.video.offsetWidth,e.nonLinearAdSlotHeight=this._o.video.offsetHeight,e.setAdWillAutoPlay(this._o.adWillAutoPlay),e.setAdWillPlayMuted(this._o.adWillPlayMuted);var t=A||this._o.adsRequestOptions;t&&this._setProperties(e,t),this._dispatch("ad_request",e),this._adsLoader.requestAds(e)}}},{key:"_destroyAdsManager",value:function(){this._adsManager&&(this._adsManager.destroy(),delete this._adsManager)}},{key:"_bindAdsManagerEvents",value:function(){var o=this;this._adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(A){o._onAdError(A)}),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(A){o._end=!1,o._dispatch("content_pause_requested",A),o._dispatch("ad_begin")}),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(A){o._dispatch("content_resume_requested",A),o._endAd()}),this._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(A){o._dispatch("started",A);var e=A.getAd();if(e.isLinear())o._o.maxDuration&&o._startMaxDurationTimer();else{var t=o._o.nonLinearMaxDuration;o._dispatch("ad_non_linear",{ad:e,duration:t}),0<o._o.nonLinearMaxDuration&&setTimeout(function(){o._adsManager&&o._adsManager.stop()},o._o.nonLinearMaxDuration),o._endAd()}});var A={ad_break_ready:google.ima.AdEvent.Type.AD_BREAK_READY,ad_buffering:google.ima.AdEvent.Type.AD_BUFFERING,ad_metadata:google.ima.AdEvent.Type.AD_METADATA,ad_progress:google.ima.AdEvent.Type.AD_PROGRESS,all_ads_completed:google.ima.AdEvent.Type.ALL_ADS_COMPLETED,click:google.ima.AdEvent.Type.CLICK,complete:google.ima.AdEvent.Type.COMPLETE,duration_change:google.ima.AdEvent.Type.DURATION_CHANGE,first_quartile:google.ima.AdEvent.Type.FIRST_QUARTILE,impression:google.ima.AdEvent.Type.IMPRESSION,interaction:google.ima.AdEvent.Type.INTERACTION,linear_changed:google.ima.AdEvent.Type.LINEAR_CHANGED,loaded:google.ima.AdEvent.Type.LOADED,log:google.ima.AdEvent.Type.LOG,midpoint:google.ima.AdEvent.Type.MIDPOINT,paused:google.ima.AdEvent.Type.PAUSED,resumed:google.ima.AdEvent.Type.RESUMED,skippable_state_changed:google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,skipped:google.ima.AdEvent.Type.SKIPPED,third_quartile:google.ima.AdEvent.Type.THIRD_QUARTILE,user_close:google.ima.AdEvent.Type.USER_CLOSE,volume_changed:google.ima.AdEvent.Type.VOLUME_CHANGED,volume_muted:google.ima.AdEvent.Type.VOLUME_MUTED};google.ima.AdEvent.Type.AD_CAN_PLAY&&(A.ad_can_play=google.ima.AdEvent.Type.AD_CAN_PLAY),google.ima.AdEvent.Type.VIEWABLE_IMPRESSION&&(A.viewable_impression=google.ima.AdEvent.Type.VIEWABLE_IMPRESSION);function e(e){o._adsManager.addEventListener(A[e],function(A){o._dispatch(e,A)})}for(var t in A)e(t)}},{key:"_onAdsManagerLoaded",value:function(A){this._dispatch("ads_manager_loaded",A);var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=this._o.restoreVideo,this._o.adsRenderingOptions&&this._setProperties(e,this._o.adsRenderingOptions),this._dispatch("ads_rendering_settings",e),this._destroyAdsManager(),this._adsManager=A.getAdsManager(this._o.video,e),this._bindAdsManagerEvents(),this._dispatch("ads_manager",this._adsManager),this._adRequesting=!1,this._adRequested=!0,this._adPlayIntent&&this._playAd()}},{key:"_onMaxDuration",value:function(){this._dispatch("error",new Error("Maximum duration of "+this._o.maxDuration+" ms reached")),this._stop()}},{key:"_startMaxDurationTimer",value:function(){var A=this;this._maxDurationTimer=setTimeout(function(){A._onMaxDuration()},this._o.maxDuration)}},{key:"_resetMaxDurationTimer",value:function(){"number"==typeof this._maxDurationTimer&&(clearTimeout(this._maxDurationTimer),this._maxDurationTimer=void 0)}},{key:"_onAdError",value:function(A){this._dispatch("ad_error",A),this._endAd()}},{key:"_playAd",value:function(){try{this._dispatch("ad_play"),this._adsManager.init(this._o.video.offsetWidth,this._o.video.offsetHeight,google.ima.ViewMode.NORMAL),this._adsManager.start()}catch(A){this._dispatch("error",A),this._endAd()}}},{key:"_dispatch",value:function(A,e){this._evt.notify(A,{name:A,data:e,target:this})}},{key:"_endAd",value:function(){this._end||(this._end=!0,this._adPlayIntent=!1,this._adRequesting=!1,this._adRequested=!1,this._resetMaxDurationTimer(),this._dispatch("ad_end"))}},{key:"_vpaidMode",get:function(){return 0===this._o.vpaidMode?google.ima.ImaSdkSettings.VpaidMode.DISABLED:1<this._o.vpaidMode?google.ima.ImaSdkSettings.VpaidMode.INSECURE:google.ima.ImaSdkSettings.VpaidMode.ENABLED}}]),e}();e.default=s,A.exports=e.default},function(A,e,t){"use strict";function o(A,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(A,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function A(){!function(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}(this,A),this.unsubscribeAll()}return function(A,e,t){e&&o(A.prototype,e),t&&o(A,t)}(A,[{key:"subscribe",value:function(A,e){this.observers[A]||(this.observers[A]=[]),this.observers[A].push(e)}},{key:"unsubscribe",value:function(A,e){if(this.observers[A]){var t=this.observers[A].indexOf(e);-1!=t&&this.observers[A].splice(t,1)}}},{key:"unsubscribeAll",value:function(A){var e=0<arguments.length&&void 0!==A?A:null;null===e?this.observers={}:this.observers[e]&&delete this.observers[e]}},{key:"notify",value:function(A,e){this.observers[A]&&this.observers[A].forEach(function(A){return A(e)})}}]),A}();e.default=i,A.exports=e.default}],i.c=o,i.d=function(A,e,t){i.o(A,e)||Object.defineProperty(A,e,{enumerable:!0,get:t})},i.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},i.t=function(e,A){if(1&A&&(e=i(e)),8&A)return e;if(4&A&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&A&&"string"!=typeof e)for(var o in e)i.d(t,o,function(A){return e[A]}.bind(null,o));return t},i.n=function(A){var e=A&&A.__esModule?function(){return A.default}:function(){return A};return i.d(e,"a",e),e},i.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},i.p="",i(i.s=1);function i(A){if(o[A])return o[A].exports;var e=o[A]={i:A,l:!1,exports:{}};return t[A].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var t,o},A.exports=o()},function(A,e,t){},function(A,e){A.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 26 26" style="enable-background:new 0 0 26 26;" xml:space="preserve"><circle class="ad-inflow-modal-close-circle " cx="13" cy="13" r="12"></circle><path class="ad-inflow-modal-close-cross " d="M13.1,11.7l2.7-2.7c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4l-2.7,2.7l2.7,2.7 c0.4,0.4,0.4,1,0,1.4c-0.4,0.4-1,0.4-1.4,0l-2.7-2.7l-2.7,2.7c-0.4,0.4-1,0.4-1.4,0s-0.4-1,0-1.4l2.7-2.7l-2.7-2.7 c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0L13.1,11.7z"></path></svg>'},function(A,e){A.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 510 510" style="enable-background:new 0 0 510 510;" xml:space="preserve"><path class="ad-inflow-modal-overlay-play " d="M204,369.75L357,255L204,140.25V369.75z M255,0C114.75,0,0,114.75,0,255s114.75,255,255,255s255-114.75,255-255 S395.25,0,255,0z M255,459c-112.2,0-204-91.8-204-204S142.8,51,255,51s204,91.8,204,204S367.2,459,255,459z" fill="#FFFFFF"></path></svg>'}],i.c=o,i.d=function(A,e,t){i.o(A,e)||Object.defineProperty(A,e,{enumerable:!0,get:t})},i.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},i.t=function(e,A){if(1&A&&(e=i(e)),8&A)return e;if(4&A&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&A&&"string"!=typeof e)for(var o in e)i.d(t,o,function(A){return e[A]}.bind(null,o));return t},i.n=function(A){var e=A&&A.__esModule?function(){return A.default}:function(){return A};return i.d(e,"a",e),e},i.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},i.p="",i(i.s=2);function i(A){if(o[A])return o[A].exports;var e=o[A]={i:A,l:!1,exports:{}};return t[A].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var t,o});